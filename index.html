<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health in Australia | Data Visualization</title>
    
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css">
    
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    
    <div class="header-section">
        <div class="pure-g">
            <div class="pure-u-1">
                <h1>Mental Health Across Australia</h1>
                <p class="subtitle">Understanding prevalence, access to care, and outcomes across states and territories</p>
                <p class="metadata">Data Sources: Australian Bureau of Statistics (2020-2022) | Australian Institute of Health and Welfare (2023)</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <div class="pure-g">
            <div class="pure-u-1 pure-u-md-2-3" style="display: flex; flex-direction: column; justify-content: center; min-height: 180px;">
                <h2 style="margin-bottom: 1rem;">The Mental Health Landscape</h2>
                <p style="font-size: 1.35rem; line-height: 1.8; margin: 0;">Mental health affects millions of Australians every year. In 2020-2022, approximately <strong>43% of Australians aged 16-85</strong> experienced a mental disorder at some point in their lifetime. But the story varies significantly across our states and territories.</p>
            </div>
            <div class="pure-u-1 pure-u-md-1-3">
                <div class="stat-box">
                    <div class="stat-number">43%</div>
                    <div class="stat-label">Lifetime mental disorder prevalence</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">3,144</div>
                    <div class="stat-label">Suicide deaths in 2023</div>
                </div>
            </div>
        </div>
    </div>

    <div class="content-section highlight-section">
        <div class="pure-g">
            <div class="pure-u-1">
                <h2>Where: Mental Health Across States and Territories</h2>
                <p>The map below shows the prevalence of 12-month mental disorders across Australian states and territories. Darker colors indicate higher rates of mental health conditions.</p>
            </div>
        </div>
        <div class="pure-g">
            <div class="pure-u-1">
                <div id="map-viz" class="visualization"></div>
            </div>
        </div>
        <div class="pure-g">
            <div class="pure-u-1">
                <p class="insight"> Mental health prevalence varies across regions, with some states showing significantly higher rates than others. Understanding these geographic patterns helps identify where resources are most needed.</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>Age and Gender Patterns</h2>
        <div class="pure-g">
            <div class="pure-u-1 pure-u-md-1-2">
                <div id="age-viz" class="visualization"></div>
            </div>
            <div class="pure-u-1 pure-u-md-1-2">
                <div id="gender-viz" class="visualization"></div>
            </div>
        </div>
        <div class="pure-g">
            <div class="pure-u-1">
                <p class="insight">Young adults (16-24) show the highest rates. Women have higher anxiety/affective disorders, men have higher substance use disorders.</p>
            </div>
        </div>
    </div>

    <div class="content-section">
        <h2>Disorder Distribution Across Age Groups</h2>
        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div id="heatmap-viz" class="visualization"></div>
            </div>
            <div class="pure-u-1 pure-u-lg-1-3">
                <div class="text-box">
                    <p>Darker cells = more affected. Young adults (16-24) show darkest cells, representing over 1M Australians. Pattern shifts dramatically after age 65.</p>
                    <br>
                    <p>Anxiety dominates all age groups. Substance use disorders decline sharply with age.</p>
                    <br>
                    <p> Young adults are particularly vulnerable, with the highest rates of anxiety and affective disorders</p>
                </div>
            </div>
        </div>
    </div>

    <div class="content-section highlight-section">
        <br>
    </div>

    <div class="content-section">
        <h2>Access to Mental Health Services</h2>
    </div>

    <div class="content-section">
        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div id="suicide-trends-viz" class="visualization"></div>
            </div>
            <div class="pure-u-1 pure-u-lg-1-3">
                <div class="text-box">
                    <p>Mental health conditions affect people across all states and territories, but prevalence varies by region</p>
                    <br>
                    <p>Many people with mental health conditions do not access professional help</p>
                    <br>
                    <p>Regions with limited service access show concerning outcomes, including higher suicide rates</p>
                </div>
            </div>
        </div>
    </div>


    <footer class="footer-section">
        <div class="pure-g">
            <div class="pure-u-1">
                <h2>Data Sources & References</h2>
                <ul>
                    <li><strong>Australian Bureau of Statistics (ABS)</strong> - National Study of Mental Health and Wellbeing: <a href="https://www.abs.gov.au/statistics/health/mental-health" target="_blank">https://www.abs.gov.au/statistics/health/mental-health</a></li>
                    <li><strong>Australian Institute of Health and Welfare (AIHW)</strong> - Mental Health Services in Australia: <a href="https://www.aihw.gov.au/mental-health" target="_blank">https://www.aihw.gov.au/mental-health</a></li>
                    <li><strong>Australian Bureau of Statistics</strong> - Causes of Death, Australia: <a href="https://www.abs.gov.au/statistics/health/causes-death" target="_blank">https://www.abs.gov.au/statistics/health/causes-death</a></li>
                    <li><strong>GeoJSON Data</strong> - Australian State Boundaries from Natural Earth: <a href="https://www.naturalearthdata.com/" target="_blank">https://www.naturalearthdata.com/</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        // Load all visualizations
        vegaEmbed('#map-viz', 'charts/australia_map.vl.json', {
            actions: { source: false, compiled: false, editor: false }
        }).catch(console.error);

        // age chart with filter dropdown
        vegaEmbed('#age-viz', 'charts/age_mental_health_filtered.vl.json', {
            actions: {  source: false, compiled: false, editor: false }
        }).then(result => console.log('Age viz loaded'))
          .catch(console.error);

        vegaEmbed('#gender-viz', 'charts/gender_disorders.vl.json', {
            actions: {source: false, compiled: false, editor: false }
        }).catch(console.error);

        // heatmap click legend to filtre
        vegaEmbed('#heatmap-viz', 'charts/disorder_heatmap.vl.json', {
            actions: { source: false, compiled: false, editor: false }
        }).catch(console.error);

        vegaEmbed('#breakdown-viz', 'charts/disorder_breakdown.vl.json', {
          actions: { source: false, compiled: false, editor: false }
        }).catch(console.error);

        // TODO: maybe add more interactivity here?
        vegaEmbed('#linked-viz', 'charts/linked_map_service.vl.json', {
            actions: { source: false, compiled: false, editor: false }
        }).catch(console.error);

        vegaEmbed('#suicide-trends-viz', 'charts/suicide_comparison.vl.json', {
            actions: {  source: false, compiled: false, editor: false }
        }).catch(console.error);
    </script>

</body>
</html>
